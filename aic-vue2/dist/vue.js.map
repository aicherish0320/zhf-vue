{"version":3,"file":"vue.js","sources":["../src/utils.js","../src/global-api/index.js","../src/compiler/generate.js","../src/compiler/parseHTML.js","../src/compiler/index.js","../src/observe/dep.js","../src/observe/watcher.js","../src/vdom/patch.js","../src/lifecycle.js","../src/observe/array.js","../src/observe/index.js","../src/state.js","../src/init.js","../src/vdom/index.js","../src/render.js","../src/index.js"],"sourcesContent":["export const isFunction = (v) => typeof v === 'function'\nexport const isObject = (v) => typeof v === 'object' && v !== null\n\nconst strategies = {}\nconst lifecycle = ['beforeCreate', 'created', 'beforeMount', 'mounted']\nlifecycle.forEach((hook) => {\n  strategies[hook] = function (parentVal, childVal) {\n    if (childVal) {\n      if (parentVal) {\n        return parentVal.concat(childVal)\n      } else {\n        if (Array.isArray(childVal)) {\n          return childVal\n        } else {\n          return [childVal]\n        }\n      }\n    } else {\n      return parentVal\n    }\n  }\n})\n\nexport const mergeOptions = (parentVal, childVal) => {\n  const options = {}\n\n  for (const key in parentVal) {\n    mergeField(key)\n  }\n\n  for (const key in childVal) {\n    if (!parentVal.hasOwnProperty(key)) {\n      mergeField(key)\n    }\n  }\n\n  function mergeField(key) {\n    const strategy = strategies[key]\n    if (strategy) {\n      options[key] = strategy(parentVal[key], childVal[key])\n    } else {\n      options[key] = childVal[key] || parentVal[key]\n    }\n  }\n\n  return options\n}\n","import { mergeOptions } from '../utils'\n\nexport function initGlobalAPI(Vue) {\n  Vue.options = {}\n  Vue.mixin = function (options) {\n    this.options = mergeOptions(this.options, options)\n    return this\n  }\n  Vue.component = function () {}\n  Vue.filter = function () {}\n  Vue.directive = function () {}\n}\n","export function generate(ast) {\n  let children = genChildren(ast)\n  let code = `_c('${ast.tag}',${\n    ast.attrs.length ? genProps(ast.attrs) : undefined\n  }${children ? `,${children}` : ''})`\n  return code\n}\n\nfunction genChildren(el) {\n  const children = el.children\n  if (children) {\n    return children.map((child) => gen(child)).join(',')\n  }\n  return false\n}\nfunction gen(el) {\n  const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n  if (el.type === 1) {\n    return generate(el)\n  } else {\n    const text = el.text\n    if (!defaultTagRE.test(text)) {\n      return `_v('${text}')`\n    }\n    // 如果正则 + g，配合 exec 就会有一个问题 lastIndex\n    let lastIndex = (defaultTagRE.lastIndex = 0)\n    let match,\n      tokens = []\n    while ((match = defaultTagRE.exec(text))) {\n      let index = match.index\n      if (index > lastIndex) {\n        tokens.push(JSON.stringify(text.slice(lastIndex, index)))\n      }\n      tokens.push(`_s(${match[1].trim()})`)\n      lastIndex = index + match[0].length\n    }\n    if (lastIndex < text.length) {\n      tokens.push(JSON.stringify(text.slice(lastIndex)))\n    }\n\n    return `_v(${tokens.join('+')})`\n  }\n}\nfunction genProps(attrs) {\n  let str = ''\n  for (let i = 0; i < attrs.length; i++) {\n    const attr = attrs[i]\n    if (attr.name === 'style') {\n      const styles = {}\n      attr.value.replace(/([^;:]+):([^;:]+)/g, function () {\n        styles[arguments[1].trim()] = arguments[2].trim()\n      })\n      attr.value = styles\n    }\n    str += `${attr.name}:${JSON.stringify(attr.value)},`\n  }\n  return `{${str.slice(0, -1)}}`\n}\n","export function parseHTML(html) {\n  const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*` // 匹配标签名\n  const qnameCapture = `((?:${ncname}\\\\:)?${ncname})`\n  const startTagOpen = new RegExp(`^<${qnameCapture}`) // 匹配开始标签名\n  const endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`) // 匹配标签结束 </aa>\n  const attribute =\n    /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/ // 匹配属性\n  const startTagClose = /^\\s*(\\/?)>/ // 匹配结束标签 > />\n\n  let stack = []\n  let root = null\n\n  function createASTElement(tag, attrs, parent = null) {\n    return {\n      tag,\n      type: 1,\n      children: [],\n      parent,\n      attrs\n    }\n  }\n\n  function start(tag, attrs) {\n    const parent = stack[stack.length - 1]\n    const element = createASTElement(tag, attrs, parent)\n    if (!root) {\n      root = element\n    }\n    if (parent) {\n      element.parent = parent\n      parent.children.push(element)\n    }\n    stack.push(element)\n  }\n  function text(text) {\n    const parent = stack[stack.length - 1]\n    text = text.replace(/\\s/g, '')\n    if (text) {\n      parent.children.push({\n        type: 2,\n        text\n      })\n    }\n  }\n  function end(tag) {\n    stack.pop()\n  }\n\n  while (html) {\n    let index = html.indexOf('<')\n    if (index === 0) {\n      const startTagMatch = parseStartTag()\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs)\n        continue\n      }\n\n      let endTagMatch\n      if ((endTagMatch = html.match(endTag))) {\n        end(endTagMatch[1])\n        advance(endTagMatch[0].length)\n        continue\n      }\n    }\n    // 文本\n    if (index > 0) {\n      let chars = html.substring(0, index)\n      text(chars)\n      advance(chars.length)\n    }\n  }\n\n  function parseStartTag() {\n    const startMatch = html.match(startTagOpen)\n    if (startMatch) {\n      const match = {\n        tagName: startMatch[1],\n        attrs: []\n      }\n      advance(startMatch[0].length)\n      // 匹配属性\n      let end, attr\n      while (\n        !(end = html.match(startTagClose)) &&\n        (attr = html.match(attribute))\n      ) {\n        match.attrs.push({\n          name: attr[1],\n          value: attr[3] || attr[4] || attr[4]\n        })\n        advance(attr[0].length)\n      }\n      if (end) {\n        advance(end[0].length)\n      }\n      return match\n    }\n    return false\n  }\n\n  function advance(len) {\n    html = html.substring(len)\n  }\n\n  return root\n}\n","import { generate } from './generate'\nimport { parseHTML } from './parseHTML'\n\nexport function compileToFunction(el) {\n  // template -> ast -> render\n  const ast = parseHTML(el)\n  const code = generate(ast)\n  const render = new Function(`with(this){ return ${code} }`)\n  return render\n}\n","let id = 0\n\nexport class Dep {\n  constructor() {\n    this.subs = []\n    this.id = id++\n  }\n\n  depend() {\n    Dep.target.addDep(this)\n  }\n\n  addSub(watcher) {\n    this.subs.push(watcher)\n  }\n  notify() {\n    this.subs.forEach((w) => w.update())\n  }\n}\n","import { Dep } from './dep'\nlet id = 0\nexport class Watcher {\n  constructor(vm, fn, cb, options) {\n    this.vm = vm\n    this.fn = fn\n    this.cb = cb\n    this.options = options\n    this.id = id++\n\n    this.deps = []\n    this.depIds = new Set()\n\n    this.getters = fn\n    this.get()\n  }\n  get() {\n    Dep.target = this\n    this.getters()\n    Dep.target = null\n  }\n  addDep(dep) {\n    const { id } = dep\n    if (!this.depIds.has(id)) {\n      this.deps.push(dep)\n      this.depIds.add(id)\n\n      dep.addSub(this)\n    }\n  }\n  update() {\n    this.get()\n  }\n}\n","export function patch(el, vnode) {\n  const elm = createElm(vnode)\n\n  const parentNode = el.parentNode\n  parentNode.insertBefore(elm, el.nextSibling)\n  parentNode.removeChild(el)\n\n  return elm\n}\n\nfunction createElm(vnode) {\n  const { tag, data, children, text, vm } = vnode\n  if (typeof tag === 'string') {\n    vnode.el = document.createElement(tag)\n    children.forEach((child) => {\n      vnode.el.appendChild(createElm(child))\n    })\n  } else {\n    vnode.el = document.createTextNode(text)\n  }\n  return vnode.el\n}\n","import { Watcher } from './observe/watcher'\nimport { patch } from './vdom/patch'\n\nexport function mountComponent(vm) {\n  const updateComponent = () => {\n    vm._update(vm._render())\n  }\n  callHook(vm, 'beforeCreate')\n\n  new Watcher(\n    vm,\n    updateComponent,\n    () => {\n      callHook(vm, 'created')\n    },\n    true\n  )\n\n  callHook(vm, 'mounted')\n}\nexport function lifecycleMixin(vue) {\n  vue.prototype._update = function (vnode) {\n    const vm = this\n\n    vm.$el = patch(vm.$el, vnode)\n  }\n}\n\nexport function callHook(vm, hook) {\n  const handlers = vm.$options[hook]\n  if (handlers) {\n    handlers.forEach((fn) => {\n      fn.call(vm)\n    })\n  }\n}\n","const oldArrayPrototype = Array.prototype\n\nexport const arrayProto = Object.create(oldArrayPrototype)\n\nconst methods = ['push', 'pop', 'shift', 'unshift', 'sort', 'splice', 'reverse']\n\nmethods.forEach((m) => {\n  arrayProto[m] = function (...args) {\n    oldArrayPrototype[m].call(this, ...args)\n\n    let inserted\n    switch (m) {\n      case 'push':\n      case 'unshift':\n        inserted = args\n        break\n      case 'splice':\n        inserted = args.slice(2)\n        break\n    }\n    if (inserted) {\n      const ob = this.__ob__\n      ob.observeArray(inserted)\n    }\n  }\n})\n","import { isObject } from '../utils'\nimport { arrayProto } from './array'\nimport { Dep } from './dep'\n\nclass Observer {\n  constructor(data) {\n    if (Array.isArray(data)) {\n      Object.defineProperty(data, '__ob__', {\n        enumerable: false,\n        value: this\n      })\n      data.__proto__ = arrayProto\n      this.observeArray(data)\n    } else {\n      this.walk(data)\n    }\n  }\n  walk(data) {\n    Object.keys(data).forEach((key) => {\n      defineReactive(data, key, data[key])\n    })\n  }\n  observeArray(data) {\n    data.forEach((item) => {\n      observe(item)\n    })\n  }\n}\n\nfunction defineReactive(obj, key, value) {\n  observe(value)\n\n  const dep = new Dep()\n  Object.defineProperty(obj, key, {\n    get() {\n      if (Dep.target) {\n        dep.depend()\n      }\n      return value\n    },\n    set(newVal) {\n      if (value !== newVal) {\n        value = newVal\n\n        dep.notify()\n      }\n    }\n  })\n}\n\nexport function observe(data) {\n  if (!isObject(data)) {\n    return\n  }\n  new Observer(data)\n}\n","import { observe } from './observe'\nimport { isFunction } from './utils'\n\nexport function initState(vm) {\n  let data = vm.$options.data\n  vm._data = data = isFunction(data) ? data.call(vm) : data\n\n  // 数据响应式处理\n  observe(data)\n\n  // 将数据代理到 vm 实例上，方便用于使用\n  for (const key in data) {\n    proxy(vm, key, '_data')\n  }\n}\n\nfunction proxy(vm, key, source) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[source][key]\n    },\n    set(val) {\n      vm[source][key] = val\n    }\n  })\n}\n","import { compileToFunction } from './compiler'\nimport { mountComponent } from './lifecycle'\nimport { initState } from './state'\nimport { mergeOptions } from './utils'\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this\n    console.log(vm.constructor.options, Vue.options)\n    // vm.$options = options\n    vm.$options = mergeOptions(vm.constructor.options, options)\n    // 初始化状态\n    initState(vm)\n\n    // 挂载\n    if (this.$options.el) {\n      this.$mount(this.$options.el)\n    }\n  }\n\n  Vue.prototype.$mount = function (el) {\n    const vm = this\n    const options = this.$options\n\n    el = document.querySelector(el)\n\n    vm.$el = el\n\n    if (!vm.render) {\n      let template = options.template\n      if (!template) {\n        template = el.outerHTML\n      }\n\n      options.render = compileToFunction(template)\n    }\n    mountComponent(vm)\n  }\n}\n","export function createElement(vm, tag, data = {}, ...children) {\n  return vnode(vm, tag, data, children, data.key, undefined)\n}\nexport function createText(vm, text) {\n  return vnode(vm, undefined, undefined, undefined, undefined, text)\n}\n\nfunction vnode(vm, tag, data, children, key, text) {\n  return {\n    vm,\n    tag,\n    data,\n    children,\n    key,\n    text\n  }\n}\n","import { isObject } from './utils'\nimport { createElement, createText } from './vdom'\n\nexport function renderMixin(Vue) {\n  Vue.prototype._c = function () {\n    const vm = this\n    return createElement(vm, ...arguments)\n  }\n  Vue.prototype._v = function (text) {\n    const vm = this\n    return createText(vm, text)\n  }\n  Vue.prototype._s = function (val) {\n    if (isObject(val)) {\n      return JSON.stringify(val)\n    }\n    return val\n  }\n\n  Vue.prototype._render = function () {\n    const vm = this\n\n    const { render } = vm.$options\n\n    const vnode = render.call(vm)\n    return vnode\n  }\n}\n","import { initGlobalAPI } from './global-api'\nimport { initMixin } from './init'\nimport { lifecycleMixin } from './lifecycle'\nimport { renderMixin } from './render'\n\nfunction Vue(options) {\n  this._init(options)\n}\n\ninitMixin(Vue)\nrenderMixin(Vue)\nlifecycleMixin(Vue)\ninitGlobalAPI(Vue)\n\nexport default Vue\n"],"names":["isFunction","v","isObject","strategies","lifecycle","forEach","hook","parentVal","childVal","concat","Array","isArray","mergeOptions","options","key","mergeField","hasOwnProperty","strategy","initGlobalAPI","Vue","mixin","component","filter","directive","generate","ast","children","genChildren","code","tag","attrs","length","genProps","undefined","el","map","child","gen","join","defaultTagRE","type","text","test","lastIndex","match","tokens","exec","index","push","JSON","stringify","slice","trim","str","i","attr","name","styles","value","replace","arguments","parseHTML","html","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","stack","root","createASTElement","parent","start","element","end","pop","indexOf","startTagMatch","parseStartTag","tagName","endTagMatch","advance","chars","substring","startMatch","len","compileToFunction","render","Function","id","Dep","constructor","subs","depend","target","addDep","addSub","watcher","notify","w","update","Watcher","vm","fn","cb","deps","depIds","Set","getters","get","dep","has","add","patch","vnode","elm","createElm","parentNode","insertBefore","nextSibling","removeChild","data","document","createElement","appendChild","createTextNode","mountComponent","updateComponent","_update","_render","callHook","lifecycleMixin","vue","prototype","$el","handlers","$options","call","oldArrayPrototype","arrayProto","Object","create","methods","m","args","inserted","ob","__ob__","observeArray","Observer","defineProperty","enumerable","__proto__","walk","keys","defineReactive","item","observe","obj","set","newVal","initState","_data","proxy","source","val","initMixin","_init","console","log","$mount","querySelector","template","outerHTML","createText","renderMixin","_c","_v","_s"],"mappings":"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"}
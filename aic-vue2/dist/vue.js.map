{"version":3,"file":"vue.js","sources":["../src/compiler/generate.js","../src/compiler/parseHTML.js","../src/compiler/index.js","../src/utils.js","../src/observe/array.js","../src/observe/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["export function generate(ast) {\n  let children = genChildren(ast)\n  let code = `_c('${ast.tag}',${\n    ast.attrs.length ? genProps(ast.attrs) : undefined\n  }${children ? `,${children}` : ''})`\n  return code\n}\n\nfunction genChildren(el) {\n  const children = el.children\n  if (children) {\n    return children.map((child) => gen(child)).join(',')\n  }\n  return false\n}\nfunction gen(el) {\n  const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n  if (el.type === 1) {\n    return generate(el)\n  } else {\n    const text = el.text\n    if (!defaultTagRE.test(text)) {\n      return `_v('${text}')`\n    }\n\n    let lastIndex = (defaultTagRE.lastIndex = 0)\n    let match,\n      tokens = []\n    while ((match = defaultTagRE.exec(text))) {\n      let index = match.index\n      if (index > lastIndex) {\n        tokens.push(JSON.stringify(text.slice(lastIndex, index)))\n      }\n      tokens.push(`_s(${match[1].trim()})`)\n      lastIndex = index + match[0].length\n    }\n    if (lastIndex < text.length) {\n      tokens.push(JSON.stringify(text.slice(lastIndex)))\n    }\n\n    return `_v(${tokens.join('+')})`\n  }\n}\nfunction genProps(attrs) {}\n","export function parseHTML(html) {\n  const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*` // 匹配标签名\n  const qnameCapture = `((?:${ncname}\\\\:)?${ncname})`\n  const startTagOpen = new RegExp(`^<${qnameCapture}`) // 匹配开始标签名\n  const endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`) // 匹配标签结束 </aa>\n  const attribute =\n    /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/ // 匹配属性\n  const startTagClose = /^\\s*(\\/?)>/ // 匹配结束标签 > />\n\n  let stack = []\n  let root = null\n\n  function createASTElement(tag, attrs, parent = null) {\n    return {\n      tag,\n      type: 1,\n      children: [],\n      parent,\n      attrs\n    }\n  }\n\n  function start(tag, attrs) {\n    const parent = stack[stack.length - 1]\n    const element = createASTElement(tag, attrs, parent)\n    if (!root) {\n      root = element\n    }\n    if (parent) {\n      element.parent = parent\n      parent.children.push(element)\n    }\n    stack.push(element)\n  }\n  function text(text) {\n    const parent = stack[stack.length - 1]\n    text = text.replace(/\\s/g, '')\n    if (text) {\n      parent.children.push({\n        type: 2,\n        text\n      })\n    }\n  }\n  function end(tag) {\n    stack.pop()\n  }\n\n  while (html) {\n    let index = html.indexOf('<')\n    if (index === 0) {\n      const startTagMatch = parseStartTag()\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs)\n        continue\n      }\n\n      let endTagMatch\n      if ((endTagMatch = html.match(endTag))) {\n        end(endTagMatch[1])\n        advance(endTagMatch[0].length)\n        continue\n      }\n    }\n    // 文本\n    if (index > 0) {\n      let chars = html.substring(0, index)\n      text(chars)\n      advance(chars.length)\n    }\n  }\n\n  function parseStartTag() {\n    const startMatch = html.match(startTagOpen)\n    if (startMatch) {\n      const match = {\n        tagName: startMatch[1],\n        attrs: []\n      }\n      advance(startMatch[0].length)\n      // 匹配属性\n      let end, attr\n      while (\n        !(end = html.match(startTagClose)) &&\n        (attr = html.match(attribute))\n      ) {\n        match.attrs.push({\n          name: attr[1],\n          value: attr[3] || attr[4] || attr[4]\n        })\n        advance(attr[0].length)\n      }\n      if (end) {\n        advance(end[0].length)\n      }\n      return match\n    }\n    return false\n  }\n\n  function advance(len) {\n    html = html.substring(len)\n  }\n\n  return root\n}\n","import { generate } from './generate'\nimport { parseHTML } from './parseHTML'\n\nexport function compileToFunction(el) {\n  // template -> ast -> render\n  const ast = parseHTML(el)\n  const code = generate(ast)\n  const render = new Function(`with(this){ return ${code} }`)\n  return render\n}\n","export const isFunction = (v) => typeof v === 'function'\nexport const isObject = (v) => typeof v === 'object' && v !== null\n","const oldArrayPrototype = Array.prototype\n\nexport const arrayProto = Object.create(oldArrayPrototype)\n\nconst methods = ['push', 'pop', 'shift', 'unshift', 'sort', 'splice', 'reverse']\n\nmethods.forEach((m) => {\n  arrayProto[m] = function (...args) {\n    oldArrayPrototype[m].call(this, ...args)\n\n    let inserted\n    switch (m) {\n      case 'push':\n      case 'unshift':\n        inserted = args\n        break\n      case 'splice':\n        inserted = args.slice(2)\n        break\n    }\n    if (inserted) {\n      const ob = this.__ob__\n      ob.observeArray(inserted)\n    }\n  }\n})\n","import { isObject } from '../utils'\nimport { arrayProto } from './array'\n\nclass Observer {\n  constructor(data) {\n    if (Array.isArray(data)) {\n      Object.defineProperty(data, '__ob__', {\n        enumerable: false,\n        value: this\n      })\n      data.__proto__ = arrayProto\n      this.observeArray(data)\n    } else {\n      this.walk(data)\n    }\n  }\n  walk(data) {\n    Object.keys(data).forEach((key) => {\n      defineReactive(data, key, data[key])\n    })\n  }\n  observeArray(data) {\n    data.forEach((item) => {\n      observe(item)\n    })\n  }\n}\n\nfunction defineReactive(obj, key, value) {\n  observe(value)\n  Object.defineProperty(obj, key, {\n    get() {\n      return value\n    },\n    set(newVal) {\n      if (value !== newVal) {\n        value = newVal\n      }\n    }\n  })\n}\n\nexport function observe(data) {\n  if (!isObject(data)) {\n    return\n  }\n  new Observer(data)\n}\n","import { observe } from './observe'\nimport { isFunction } from './utils'\n\nexport function initState(vm) {\n  let data = vm.$options.data\n  vm._data = data = isFunction(data) ? data.call(vm) : data\n\n  // 数据响应式处理\n  observe(data)\n\n  // 将数据代理到 vm 实例上，方便用于使用\n  for (const key in data) {\n    proxy(vm, key, '_data')\n  }\n}\n\nfunction proxy(vm, key, source) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[source][key]\n    },\n    set(val) {\n      vm[source][key] = val\n    }\n  })\n}\n","import { compileToFunction } from './compiler'\nimport { initState } from './state'\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this\n    vm.$options = options\n    // 初始化状态\n    initState(vm)\n\n    // 挂载\n    if (this.$options.el) {\n      this.$mount(this.$options.el)\n    }\n  }\n\n  Vue.prototype.$mount = function (el) {\n    const vm = this\n    const options = this.$options\n\n    el = document.querySelector(el)\n\n    vm.$el = el\n\n    if (!vm.render) {\n      let template = options.template\n      if (!template) {\n        template = el.outerHTML\n      }\n\n      options.render = compileToFunction(template)\n\n      console.log(options.render)\n    }\n  }\n}\n","import { initMixin } from './init'\n\nfunction Vue(options) {\n  this._init(options)\n}\n\ninitMixin(Vue)\n\nexport default Vue\n"],"names":["generate","ast","children","genChildren","code","tag","attrs","length","genProps","undefined","el","map","child","gen","join","defaultTagRE","type","text","test","lastIndex","match","tokens","exec","index","push","JSON","stringify","slice","trim","parseHTML","html","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","stack","root","createASTElement","parent","start","element","replace","end","pop","indexOf","startTagMatch","parseStartTag","tagName","endTagMatch","advance","chars","substring","startMatch","attr","name","value","len","compileToFunction","render","Function","isFunction","v","isObject","oldArrayPrototype","Array","prototype","arrayProto","Object","create","methods","forEach","m","args","call","inserted","ob","__ob__","observeArray","Observer","constructor","data","isArray","defineProperty","enumerable","__proto__","walk","keys","key","defineReactive","item","observe","obj","get","set","newVal","initState","vm","$options","_data","proxy","source","val","initMixin","Vue","_init","options","$mount","document","querySelector","$el","template","outerHTML","console","log"],"mappings":"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"}